<!-- box-packer.handlebars -->

<div class="container-lg">
<h5 class="mx-4"> Box Packing</h5>
<div class="card bg-green m-3" style="width: auto;">
    <div class="card-title m-3">
        <h1><span name="emphasis" style="font-weight: 900">{{number_of_boxes}}</span> box{{#unless singular}}es{{/unless}} left to pack this week</h1>
    </div>
    <div class="card-body">
        <h3>In each box:</h3>
        <div class="table-responsive">
        <table class="table table-sm table-light">
            <thead class="thead-light">
                <tr>
                    <th scope="col">Crop</th>
                    <th scope="col">Quantity</th>
                </tr>
            </thead>
            <tbody>
            {{#each box_contents}}
                <tr id="{{this.box_id}}, {{this.harvest_id}}">
                    <td>{{this.crop_name}}</td>
                    <td>{{this.qty_per}}</td>
                </tr>
            {{/each}}
            </tbody>
        </table>
        </div>
    </div>
</div>
<div class="card bg-green m-3" style="width: auto;">
    <div class="card-title m-3">
        <h3>Log boxes packed:</h3>
    </div>
    <div class="card-body">
        <form class="text-left" action="">
            <div class="form-row">
            {{!-- quantity packed --}}
            <div class="form-group mb-3" style="margin-top: -12px;">
                <label for="quantity-packed" style="margin: 12px 0px;">Number of boxes packed:</label>
                <input type="number" id="quantity-packed" min="1" max="0{{#unless no_boxes}}{{number_of_boxes}}{{/unless}}" style="margin: 12px 0px;" {{#if no_boxes}} disabled {{/if}}>
                <input type="button" class="btn btn-green" type="submit" onclick="boxes_packed()" id="INSERT_button" value="Log as packed" style="float: right; margin: 12px;" {{#if no_boxes}} disabled {{/if}}>
                <div hidden id="box-id">{{box_details.box_id}}</div>
                <div hidden id="number-already-packed">{{box_details.number_packed}}</div>
            </div>
            </div>
        </form>
    </div>
</div>
</div>
<script src="/source/js/btn_handler_box_packer.js" charset="utf-8" id="btn-handler"></script>